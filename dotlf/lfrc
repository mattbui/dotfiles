set shell zsh
set icons
set period 1
set scrolloff 5
set info size:time

map <enter> open
map D delete

cmd trash ${{
	clear; tput cup $(($(tput lines)/3)); tput bold
	set -f
	space=$' '
	tok_space=$'<SPACE>'

	printf "%s\n\t" "$fx"
	printf "Move to trash?[y/N] "
	read ans
	[ $ans = "y" ] && for file in $(echo -e "${fx//$space/$tok_space}" | tr '\n' ' ')
	do
		trash "$(echo -e "${file//$tok_space/$space}")"
	done
}}
map T trash

cmd addDir ${{
	clear; tput cup $(($(tput lines)/3)); tput bold
	set -f
	printf "Directory name or path? "
	read ans
	mkdir -p $ans
}}
map A addDir

cmd addFile ${{
	clear; tput cup $(($(tput lines)/3)); tput bold
	set -f
	printf "Filename? "
	read ans
	touch $ans
}}
map a addFile

# TODO: I cannot make this work inside nvim yet, it will open a new nvim inside the floaterm
# idea for this to work inside nvim:
# * https://github.com/mhinz/neovim-remote
# * floatern#util#open
cmd openWithNVim ${{
	nvim $f
}}

map e openWithNVim
